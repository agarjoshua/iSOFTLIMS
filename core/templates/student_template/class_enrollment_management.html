{% extends 'student_template/base_template.html' %}

{% block page_title %}
Enroll to Classes
{% endblock page_title %}

{% block main_content %}

{% load static %}

<section class="content">
    <div class="container-fluid">



        {% if messages %}
        <div class="form-group">
            <div class="col-12">
                {% for message in messages %}
                {% if message.tags == "error" %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="margin-top: 10px;">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% elif message.tags == "success" %}
                <div class="alert alert-success alert-dismissible fade show" role="alert" style="margin-top: 10px;">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <div class="row">
            <div class="col-md-12">
                <!-- general form elements -->
                <div class="card">
                    <!-- /.card-header -->
                    <div class="card px-3 pt-3">
                        <div class="container-fluid">
                            <div class="row">

                                <!-- Search and Register Form -->
                                <div class="col-md-6">
                                    <h2>Search and Register for Classes</h2>
                                    <form>
                                        <div class="form-group">
                                            <label for="class-search">Class Search:</label>
                                            <input type="text" class="form-control" id="class-search">
                                        </div>
                                        <button type="submit" class="btn btn-primary">Search</button>
                                    </form>

                                    <hr>

                                    <form>
                                        <div class="form-group">
                                            <label for="class-name">Class Name:</label>
                                            <input type="text" class="form-control" id="class-name">
                                        </div>
                                        <div class="form-group">
                                            <label for="class-time">Class Time:</label>
                                            <input type="text" class="form-control" id="class-time">
                                        </div>
                                        <button type="submit" class="btn btn-primary">Register</button>
                                    </form>
                                </div>

                                <!-- Registered Classes Table -->
                                <div class="col-md-6">
                                    <h2>Registered Compulsory Classes</h2>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Class Name</th>
                                                <th>Class Time</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Class A</td>
                                                <td>Monday 10am-12pm</td>
                                            </tr>
                                            <tr>
                                                <td>Class B</td>
                                                <td>Wednesday 2pm-4pm</td>
                                            </tr>
                                            <!-- Add more rows dynamically with JavaScript -->
                                        </tbody>
                                    </table>

                                    <h2>Registered Optional Classes</h2>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Class Name</th>
                                                <th>Class Time</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Class A</td>
                                                <td>Monday 10am-12pm</td>
                                            </tr>
                                            <tr>
                                                <td>Class B</td>
                                                <td>Wednesday 2pm-4pm</td>
                                            </tr>
                                            <!-- Add more rows dynamically with JavaScript -->
                                        </tbody>
                                    </table>


                                </div>

                            </div>
                        </div>
                        <div class="row">

                            <div class="col-md-6">
                                <!-- /.card-header -->
                                <div class="card-body table-responsive p-0">
                                    <table class="table table-hover text-nowrap">
                                        <thead>
                                            <tr>
                                                <th>Session Start Period</th>
                                                <th>Session End date</th>
                                                <th>Is Current session</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for enrollment in enrollments %}
                                            <tr {% if enrollment.is_current %}>
                                                <td hidden>{{enrollment.id}}</td>
                                                <td>{{ enrollment.session_start_date }}</td>
                                                <td>{{ enrollment.session_end_date }}</td>
                                                <td class="color-primary">{{ enrollment.is_current }}</td>
                                                <td>
                                                    {% if try%}
                                                    <a class="btn btn-primary"
                                                        href="{% url 'enroll_session_save' enrollment.id %}"
                                                        role="button">
                                                        Enroll Sessions</a><br />&nbsp;
                                                    {% else %}
                                                    <button disabled class="btn btn-success" href="">
                                                        Enrolled</button><br />&nbsp;
                                                    {% endif %}
                                                </td>
                                            </tr {% endif %}>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <!-- /.card-body -->
                            </div>

                            <br>

                            <div class="col-md-6">
                                <!-- /.card-header -->
                                <div class="card-body table-responsive p-0">
                                    <table class="table table-hover text-nowrap">
                                        <thead>
                                            <tr>
                                                <th>Session Start Period</th>
                                                <th>Session End date</th>
                                                <th>Is Current session</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for enrollment in enrollments %}
                                            <tr {% if enrollment.is_current %}>
                                                <td hidden>{{enrollment.id}}</td>
                                                <td>{{ enrollment.session_start_date }}</td>
                                                <td>{{ enrollment.session_end_date }}</td>
                                                <td class="color-primary">{{ enrollment.is_current }}</td>
                                                <td>
                                                    {% if try%}
                                                    <a class="btn btn-primary"
                                                        href="{% url 'enroll_session_save' enrollment.id %}"
                                                        role="button">
                                                        Enroll Sessions</a><br />&nbsp;
                                                    {% else %}
                                                    <button disabled class="btn btn-success" href="">
                                                        Enrolled</button><br />&nbsp;
                                                    {% endif %}
                                                </td>
                                            </tr {% endif %}>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <!-- /.card-body -->
                            </div>
                        </div>

                    </div>
                    <!-- /.card -->

                </div>
            </div>

        </div><!-- /.container-fluid -->
</section>

{% endblock main_content %}